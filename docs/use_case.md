# 用例

![image](https://raw.githubusercontent.com/OrderingService/Dashboard/gh-pages/imgs/use_case.png)

**full用例–处理账单**
- 用例名称
  - 处理账单

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与者
  - 顾客

- 涉众及其关注点
  - 顾客：希望以最小代价完成购买活动并得到快速服务。希望便捷、清晰地看到商品项目和价格。
  - 商家：希望生成的价格正确。希望准确地记录交易，满足顾客需求。希望能够自动、快速地更新账务和账单信息。希望确保记录了支付授权服务的支付票据。
  - 支付授权服务：希望接收到格式和协议正确的数字授权请求。希望准确计算对商家的应付款。
  - 政府税收代理：希望能从每笔交易中抽取税金。
 
- 前置条件
  - 顾客已完成点餐操作
 
- 成功保证（或后置条件）
  - 存储付款信息。更新账务。记录支付授权的批准。准确计算税金。

- 主成功场景（或基本流程）
  - 顾客点击订单进行付款
  - 系统根据菜单生成应付金额
  - 顾客付款，系统处理支付
  - 系统记录完整的订单信息，并把信息发送到账务系统

- 扩展（或替代流程）
  - 系统在任意时刻失败：
    - 为了支持恢复和更正账务处理，要保证所有交易的敏感状态和事件都能从场景的任何一步中恢复。
    - 顾客重启系统，登陆，请求恢复上次状态。
    - 系统重建上次状态。
     - 系统在恢复过程中检测到异常：
       - 系统向顾客提示错误，记录此错误，并进入一个初始状态
       - 顾客开始一次新的消费记录。
  - 顾客需要使用优惠券：
    - 顾客进入我的优惠券界面，选择要使用的优惠券
    - 系统按照规则扣除相应金额。
      - 选择的优惠券不适用于所购商品：
       - 系统向顾客提示错误。
  - 顾客要求取消付款交易：
    - 顾客在系统中取消付款交易。
  - 系统检测到与外部税务计算系统的通信故障：
    - 系统重启此服务，并继续操作。
      - 系统检测到该服务无法重启。
       - 系统提示错误。
       - 商家手工计算和输入税金。

 
- 特殊需求
  - 支持文本显示的语言国际化
  - 90%的信用卡授权响应时间小于30s
  - 在访问远程服务失败的情况下有较强的恢复能力
 
- 技术和数据变元素
  - 无

- 发生频率
  - 可能会不断地发生
 
- 未决问题
  - 研究远程服务的恢复问题
  - 税法如何变化

---

**casual用例1–显示餐厅用餐情况**

- 用例名称
  - 显示餐厅用餐情况

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 无

- 后置条件
  - 显示出餐厅内所有餐桌的状态

- 主要成功场景
  - 餐厅管理人员在系统首页选择显示餐厅用餐情况
  - 显示出各个餐桌状态

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例2-显示餐桌具体情况**

- 用例名称
  - 显示餐桌具体情况

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 管理人员选择了某个餐桌查看

- 后置条件
  - 显示出所选餐桌的状态，所有已点菜品以及菜品情况

- 主要成功场景
  - 餐厅管理人员在显示所有餐桌后选择某餐桌
  - 显示出管理人员想要查看的餐桌的状态，所有已点菜品以及菜品情况

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例3-接收订单**

- 用例名称
  - 桌面自助点餐系统

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 无

- 后置条件
  - 记录桌号、菜号，并返回确认信息，更改菜品状态，将菜品列入排队列表，等待分配厨师

- 主要成功场景
  - 餐厅管理人员选择接受前台订单信息
  - 后台记录桌号、菜号，并返回确认信息，更改菜品状态为已下单阶段，将菜品列入排队列表，等待分配厨师。若前台删除菜品，则将该对应菜品从排队列表中移除，正在制作中和已上菜的菜品无法删除。

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例4-订单分配厨师/菜品分配服务员**

- 用例名称
  - 订单分配厨师

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 管理人员已经接收了前台的订单信息

- 后置条件
  - 将需要做的菜品信息按需分配给厨师们
  - 将已经做好的菜品按需分配给服务员

- 主要成功场景
  - 餐厅管理人员选择对菜品或厨师有要求的菜手动安排厨师，其余的按照先来先服务进行
  - 餐厅管理人员选择对服务员有要求的菜手动安排服务员，其余的按照先来先服务进行

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例5-响应催单**

- 用例名称
  - 订单分配厨师

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 管理人员已经接收了前台的催单信息

- 后置条件
  - 服务员响应催单并送菜

- 主要成功场景
  - 餐厅管理人员选择响应催单并且分配服务员进行送菜

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例6-结账**

- 用例名称
  - 结账

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 管理人员已经接收了前台的订单信息

- 后置条件
  - 结账后将餐桌状态改为已结账

- 主要成功场景
  - 餐厅管理人员选择结账后，显示餐桌所有点餐信息，并打印账单，打印发票

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

**casual用例7-菜品信息管理**

- 用例名称
  - 菜品信息管理

- 范围
  - 泡面佬扫码点餐系统

- 级别
  - 用户目标级别

- 主要参与人员
  - 餐厅后台管理人员

- 前置条件
  - 无

- 后置条件
  - 菜品的序号、名称、价格、种类、口味、评价、图片等已经更新

- 主要成功场景
  - 餐厅管理人员选择增加、修改、删除菜品
  - 若增加菜品，则要求输入菜品的序号、名称、价格、所属种类、口味等；若修改菜品，进行菜品的选择，并选择要修改的项；若删除菜品，则选择要删除的菜品

- 扩展（或替代流程）
  - 系统崩溃：在选择时遇到系统崩溃问题，系统将提示错误信息，管理人员可以重新从第1步做起重新选择。
  - 电脑崩溃：处理流程如上

---

**brief用例1–搜索菜品**
- 搜索菜品：
1. 用户点击搜索图标索引。
2. 用户输入搜索的菜品信息关键字。
3. 餐厅后台根据该关键字，检索菜品信息，生成结果信息。
4. 餐厅系统解析结果，将匹配的菜品信息一一导入目标列表并更新。
5. 用户可重新搜索菜品。

**brief用例2–用户点餐**
- 用户点餐：
1. 用户添加想点的菜品及对应数量进购物车。
2. 用户进行结算，确认订单，付款。
2. 餐厅管理人员记录桌号、菜品信息，生成订单信息，打印发票。
3. 订单信息导入排队列表，等待分配厨师。
4. 厨师根据菜品信息制作菜品。
5. 服务员将已制作好的菜品根据桌号送达。
6. 餐厅管理人员更改订单状态。

**brief用例3–用户点评**
- 用户点评：
1. 用户已经用完餐。
2. 用户根据用餐体验对餐厅服务进行评价。
3. 餐厅后台生成并保存评价信息。
4. 餐厅后台对评价信息进行分类（有图/好评/差评/关键字）
5. 餐厅后台系统将该评价信息导入进当前已有评价信息列表并更新。
6. 用户可对评价进行修改或者追评。
